<div class="test-type-panel mat-elevation-z4">
  <mat-form-field>
    <mat-label>Select Test</mat-label>
    <mat-select [value]="selectedTestReference()" (selectionChange)="setSelectedTestReference($event.value)">
      @for (testOption of testReferenceOptions; track testOption.reference.id) {
        <mat-option [value]="testOption.reference">{{ testOption.label }}</mat-option>
      }
    </mat-select>
  </mat-form-field>
  <div class="sample-list">
    @if (selectedTestReference()) {
      <mat-label>Samples for {{ getDisplayName(selectedTestReference()!) }}:</mat-label>
    }
    @if (sampleNumbers().length) {
      <mat-action-list>
        @for (sample of sampleNumbers(); track sample) {
          <button mat-list-item type="button" (click)="onSampleClick(sample)">
            {{ sample }}
          </button>
        }
      </mat-action-list>
    }
    @if (selectedTestReference() && !sampleNumbers().length) {
      <div class="empty">No samples found.</div>
    }
  </div>
</div>
