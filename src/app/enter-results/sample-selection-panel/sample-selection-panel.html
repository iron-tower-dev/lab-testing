<div class="test-type-panel mat-elevation-z4">
  <mat-form-field>
    <mat-label>Select Test</mat-label>
    <mat-select [value]="selectedTestCode()" (selectionChange)="setSelectedTestCode($event.value)">
      @for (test of testTypeOptions; track test.code) {
        <mat-option [value]="test.code">{{ test.label }}</mat-option>
      }
    </mat-select>
  </mat-form-field>
  <div class="sample-list">
    @if (selectedTestCode()) {
      <mat-label>Samples for {{ selectedTestCode() }}:</mat-label>
    }
    @if (sampleNumbers().length) {
      <mat-list>
        @for (sample of sampleNumbers(); track sample) {
          <mat-list-item (click)="onSampleClick(sample)">{{ sample }}</mat-list-item>
        }
      </mat-list>
    }
    @if (selectedTestCode() && !sampleNumbers().length) {
      <div class="empty">No samples found.</div>
    }
  </div>
</div>
